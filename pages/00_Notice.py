import streamlit as st
from UI import hide_sidebar

hide_sidebar(page_title="事前須知")

st.title("電腦組裝服務諮詢表單")
st.subheader("請完整閱讀以下內容")

NOTICE_MD = """

**一、服務性質與報價說明**
1. 本表單僅供需求評估與初步報價參考使用，非正式契約文件。  
2. 本方為個人提供之電腦組裝與諮詢服務，非依法設立之商業登記店家，故無法開立統一發票或正式收據。  
3. 所有配單建議與報價均依當下市場行情浮動，最終成交價格以實際下單時之報價為準。  
4. 電腦組裝諮詢為免費提供，惟不代表保證成交、保留報價或保留零件庫存。  
5. 雙方之交易內容、配備規格與驗收標準，最終以電子報價單所載內容為準。  
6. 客戶於電子報價單完成簽署並以電子郵件回覆確認後，即視為契約成立。  
7. 在未收到客戶電子郵件正式確認前，所有溝通內容均屬諮詢或討論階段，尚不構成訂單成立，本方亦無保留報價或零件之義務。  
8. 本方代為購買之零件，將依實際購買通路提供購買證明或發票影本（如原廠或通路商提供）。該文件僅供產品保固或售後服務使用，不得作為其他用途。

**二、組裝費用與服務範圍**
1. 基本硬體組裝費用為 NT$600，包含硬體安裝、作業系統安裝及驅動程式更新。
2. 不包含 Windows 授權序號費用、資料救援、RAID 架設、特殊軟體設定、客製化調校或超頻設定服務。
3. 開放式水冷組裝費用約為 NT$5000～15000，實際價格依施工難度與雙方確認後報價為準。

**三、自備零件代組裝說明**
1. 客戶自備零件亦收取組裝費 NT$600。
2. 自備零件如有故障、相容性問題或新品 DOA 情形，須由客戶自行辦理退換貨，本方不負相關責任。

**四、作業系統安裝與資料責任說明**
1. 客戶應於安裝作業系統前，自行完成重要資料備份。
2. 安裝作業系統前，將與客戶確認並取得同意後始進行。
3. 因作業系統重灌或相關設定所導致之資料遺失、毀損或無法復原情形，本方不負相關賠償責任。
4. 如需協助資料備份服務，將另行報價。

**五、付款與訂單流程**
1. 確認規格後，需先支付零件金額或約定比例訂金，方可進行下單。
2. 零件一經下單購買，即視為訂單成立。
3. 組裝完成後，本方將提供驗收照片或影片供客戶確認。
4. 客戶完成尾款支付後，始進行交機或寄送程序。
5. 客戶於面交驗收完成或宅配簽收後，視同完成最終驗收。如未於交機後 3 日內提出功能異常反應，視為確認商品狀態正常。
6. 若客戶無正當理由延遲付款，本方得暫停組裝作業或暫緩交付，相關產生之成本或損失由客戶負擔。

**六、訂單取消與零件處理說明**
1. 若客戶於零件尚未下單前取消訂單，不收取任何費用。
2. 若客戶於零件下單後取消訂單，客戶仍應支付全部已產生之零件費用及相關成本。本方於款項全數結清後，始交付已購買之零件，已支付款項不予退還。
3. 零件可選擇面交或宅配寄出，運費及相關費用由客戶自行負擔。
4. 零件將依原購買狀態交付，後續保固與退換貨需由客戶自行向原購買商家辦理。
5. 如因取消訂單產生退貨手續費、價差損失、刷卡手續費或其他相關費用，須由客戶負擔。
6. 若客戶於通知後 14 日內未完成領取或寄送安排，視同完成交付，本方不負後續保管責任。
7. 超過 14 日後如需取回原購買之零件或依原規格重新組裝電腦，須重新成立訂單並另行報價；價格將依當時市場行情為準，不適用原報價。
8. 零件下單後，如客戶於組裝過程中要求變更或升級規格，須重新報價並補齊差額後，本方始繼續進行後續作業。
9. 若客戶無正當理由延遲付款或拒絕完成應付金額，本方得暫停組裝作業或暫緩交付，相關產生之成本或損失由客戶負擔。

**七、保固與責任範圍**
1. 所有硬體保固依原廠或銷售店家規定辦理。
2. 本服務提供 7 日內非人為因素之功能檢查協助，如發現異常請盡速告知。
3. 因自行超頻、拆裝、不當使用、電壓不穩、環境因素或水冷漏液等非正常使用情形所導致之損壞，本方不負相關責任。

**八、運送與理賠說明**
1. 提供面交與宅配方式交付主機。高階主機或開放式水冷主機建議優先選擇面交，以降低運送風險。
2. 商品宅配寄出前，本方將拍照與錄影存證，確認外觀與功能正常後出貨。
3. 買家收貨時應立即檢查外觀，如發現外箱破損應當場向物流人員反映並拍照存證。
4. 若收貨後發現疑似運送造成之損壞，應於 24 小時內通知本方並提供照片或影片佐證。
5. 運送風險依物流公司理賠規範辦理，本方將協助提供出貨存證資料。

**九、資料與隱私**
1. 客戶提供之聯絡資訊僅用於本次服務聯繫，不作其他用途。
2. 本方得於不揭露客戶個人資料之前提下，將組裝完成之主機照片或施工成果用於作品展示、社群平台或行銷用途。

**十、圖片與示意說明**
1. 本表單中所使用之選項圖片，多為網路截圖或示意圖，僅供參考。
2. 圖片之顏色、外觀、尺寸比例、配件內容等，可能因品牌型號、拍攝角度或實際庫存而有所差異，請以實際商品/實機為準。
3. 若有特定外觀或型號需求，請於表單備註或後續聯繫時提出，以利確認。

**十一、其他**
1. 若有未盡事宜，雙方以書面或訊息確認內容為準。
2. 本服務保留最終解釋權。
"""

# ✅ Dark/Light 都可讀：全部用 Streamlit theme 變數，不寫死白底白字
st.markdown(
    """
<style>
:root{
  --pc-text: var(--text-color);
  --pc-card: var(--secondary-background-color);
  --pc-border: rgba(120,120,120,.25);
}

/* 鎖定 marker 所在的區塊：把那個大框變成可捲動 */
div[data-testid="stVerticalBlock"]:has(> div > div > div.notice-container){
  border: 1px solid var(--pc-border);
  background: var(--pc-card);
  border-radius: 12px;
  padding: 18px 18px;
  height: calc(100vh - 230px);
  overflow-y: auto;
}

/* 內容字體一致 */
div[data-testid="stVerticalBlock"]:has(> div > div > div.notice-container) *{
  font-size: 16px;
  line-height: 1.75;
  color: var(--pc-text);
}

/* 內層盒子：同樣不要固定白色 */
.notice-box{
  border: 1px solid var(--pc-border);
  background: var(--pc-card);
  padding: 24px;
  border-radius: 14px;
  box-shadow: 0 4px 18px rgba(0,0,0,0.04);
}
</style>
""",
    unsafe_allow_html=True,
)

# marker：讓 :has(...) 能鎖定這個區塊
st.markdown('<div class="notice-container"></div>', unsafe_allow_html=True)

# ✅ 注意：你原本的縮排有問題，這裡修正為「真的放進 container」
with st.container():
    st.markdown(f'<div class="notice-box">{NOTICE_MD}</div>', unsafe_allow_html=True)

agree = st.checkbox("我已閱讀並同意以上事前須知", value=st.session_state.get("agreed", False))

col1, col2 = st.columns([1, 1])
with col2:
    if st.button("繼續", type="primary", disabled=not agree):
        st.session_state.agreed = True
        st.switch_page("pages/01_ServiceType.py")